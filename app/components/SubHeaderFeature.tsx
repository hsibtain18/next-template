"use client";
import { useGSAP } from "@gsap/react";
import { useTheme } from "next-themes";
import React, { useEffect, useRef, useState } from "react";
import gsap from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";
import Link from "next/link";
gsap.registerPlugin(ScrollTrigger);

const SubHeaderFeature = () => {
  const { theme } = useTheme();
  const box1 = useRef(null);
  const box2 = useRef(null);
  const box3 = useRef(null);

  const [navFill, setNavFill] = useState("#ffffff"); // safe default for SSR

  useEffect(() => {
    setNavFill(theme !== "dark" ? "#000000" : "#ffffff");
  }, [theme]);

  useGSAP(
    () => {
      gsap.from([box1.current, box2.current, box3.current], {
        scrollTrigger: {
          trigger: box1.current,
          start: "top 80%",
          toggleActions: "play none none none",
        },
        opacity: 0,
        y: 50,
        duration: 5,
        stagger: 0.2,
        ease: "power3.out",
      });
    },
    { scope: box1 } // Optional, but you can also wrap all three refs in a common parent and scope to that
  );
  return (
    <section className="container my-20 px-3  mx-auto section-padding">
      <div className="w-full">
        <div className="sec-head text-center">
          <h3 className="wow color-font">
            Ectorious Drives the Growth You Deserve
          </h3>
          <p>Donâ€™t Let Poor Management Hold Your Amazon Brand Back</p>
        </div>
      </div>
      <div className="grid grid-cols-1 md:grid-cols-3 gap-6  mx-auto">
        <div
          className="  flex flex-col items-center text-center my-10 "
          ref={box1}
          data-wow-delay=".3s"
        >
          <div className="item-box md-mb50 cont text-center">
            <div className="svgContainer">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="80px"
                viewBox="0 0 512 406.52"
              >
                <path
                  fill={navFill}
                  d="M512 0v339.71H336.77v34.2h51.21v32.61H122.93v-32.61h54.85v-34.2H0V0h512zM60.73 251.43h342.85v15.07H60.73v-15.07zm0-40.23H279.5v15.07H60.73V211.2zm334.59-84.15 58.05.2c-.05 15.9-6.28 31.12-17.31 42.28a59.295 59.295 0 0 1-8.49 7.1l-32.25-49.58zm-5.95-11.83-3.1-63.73c-.06-1.26.89-2.33 2.11-2.39.36-.02.78-.04 1.25-.05.39-.02.81-.02 1.25-.03 17.05-.19 32.69 6.45 44.38 17.5 11.69 11.05 19.42 26.52 20.64 43.99.08 1.26-.84 2.35-2.07 2.44l-62.08 4.56c-1.22.08-2.29-.86-2.37-2.12-.01-.06-.01-.11-.01-.17zm1.45-61.64 2.88 59.2 57.56-4.22c-1.62-15.33-8.64-28.88-19.01-38.68-10.89-10.3-25.46-16.48-41.33-16.3h-.1zm-8.4 70.74 31.12 55.36c-9.46 5.61-20.2 8.57-31.12 8.57-34.38 0-62.25-28.63-62.25-63.93 0-31.73 22.65-58.65 53.21-63.26l9.04 63.26zM204.76 55.94l-4.96-6.31c-.78-1.09-1.02-2.12-.7-3.07.84-2.56 3.86-2.31 5.95-2.17 5.94.43 19.95.56 23.01.68 2.24.16 3.55 1.84 3.17 4.05-.62 3.09-3.47 17.97-4.49 23.62-.36 1.96-.95 4.51-3.42 4.7-1 .08-1.94-.4-2.82-1.41l-4.95-6.32-2.3-2.92-30.93 20.03c-.39 7.79-6.83 13.99-14.72 13.99-8.14 0-14.74-6.6-14.74-14.74 0-.33.01-.66.03-.98l-17.1-12.35a14.583 14.583 0 0 1-8.41 2.64c-4.26 0-8.09-1.81-10.78-4.7L87.93 86.05c.06.5.08 1.01.08 1.53 0 8.14-6.6 14.74-14.73 14.74-8.14 0-14.74-6.6-14.74-14.74s6.6-14.74 14.74-14.74c2.95 0 5.69.87 8 2.36l31.55-16.91c1.12-7.02 7.21-12.39 14.55-12.39 8.14 0 14.74 6.6 14.74 14.74 0 .32-.01.65-.03.98l17.1 12.35a14.68 14.68 0 0 1 8.41-2.64c3.7 0 7.08 1.37 9.67 3.62l28.11-18.21-.62-.8zm6.78 38.03h20.32c1.17 0 2.13.96 2.13 2.13v78.95c0 1.17-.96 2.13-2.13 2.13h-20.32c-1.16 0-2.13-.96-2.13-2.13V96.1c0-1.17.96-2.13 2.13-2.13zm-49.47 27.06h20.32c1.17 0 2.13.96 2.13 2.13v51.89c0 1.17-.96 2.13-2.13 2.13h-20.32c-1.17 0-2.13-.96-2.13-2.13v-51.89c0-1.17.96-2.13 2.13-2.13zm-49.48-27.06h20.33c1.17 0 2.12.96 2.12 2.13v78.95c0 1.17-.96 2.13-2.12 2.13h-20.33c-1.16 0-2.12-.96-2.12-2.13V96.1c0-1.17.95-2.13 2.12-2.13zm-49.48 31.42h20.33c1.17 0 2.12.97 2.12 2.13v47.53c0 1.17-.96 2.13-2.12 2.13H63.11c-1.16 0-2.12-.96-2.12-2.13v-47.53c0-1.17.95-2.13 2.12-2.13zM15.28 296.18h481.37V15.28H15.28v280.9z"
                />
              </svg>
            </div>
            <div className="bottom-link">
              <h6>PPC Management</h6>
              <p>
                Optimized PPC campaigns to drive targeted traffic, maximize ROI,
                and boost sales.
              </p>
              <Link href={'/services/ppc'} className="butn bord curve   mt-auto mx-auto mt-25">
              Read more
              </Link>
              
            </div>
          </div>
        </div>
        <div
          className="  flex flex-col items-center text-center my-10 "
          ref={box2}
          data-wow-delay=".3s"
        >
          <div className="item-box md-mb50 cont  text-center">
            <div className="svgContainer">
              <svg
                id="Layer_1"
                data-name="Layer 1"
                width="80px"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 118.79 122.88"
              >
                <title>business-model</title>
                <path
                  fill={navFill}
                  d="M92.42,0a15.48,15.48,0,0,1,11,26.42h0a15.53,15.53,0,0,1-15.13,4l-.9,1.7a34.93,34.93,0,0,1,4.82,4,34.2,34.2,0,0,1,0,48.35l-.74.71,6,7.92a15.18,15.18,0,0,1,5.85-1.15,15.44,15.44,0,0,1,10.94,4.53h0a15.48,15.48,0,1,1-21.88,21.9h0a15.5,15.5,0,0,1-.16-21.74l-5.76-7.56A34.17,34.17,0,0,1,39.21,78.72L29,84a15.47,15.47,0,0,1-2.59,18.44h0a15.48,15.48,0,0,1-21.88,0h0a15.5,15.5,0,0,1,0-21.9l.18-.16a15.46,15.46,0,0,1,20-1.3A1.75,1.75,0,0,1,25,79l11.29-5.87A34.24,34.24,0,0,1,39,42.1L26.9,32.78l-.06,0a15.45,15.45,0,0,1-21.7-.16h0A15.48,15.48,0,1,1,27,10.78h0a15.5,15.5,0,0,1,3.41,16.77,2.82,2.82,0,0,1,.31.21l12.12,9.33,1-1a34.23,34.23,0,0,1,38-7.1l.81-1.53c-.4-.32-.78-.67-1.15-1l-.16-.18a15.45,15.45,0,0,1,.16-21.7h0A15.45,15.45,0,0,1,92.42,0ZM69.24,61.46H66.73a.18.18,0,0,0-.1,0,.13.13,0,0,0,0,.1v5.28a.18.18,0,0,0,0,.1.13.13,0,0,0,.1,0h2.5a.15.15,0,0,0,.1,0,.16.16,0,0,0,0-.1V61.6a.14.14,0,0,0,0-.1.11.11,0,0,0-.09,0ZM53,50.26h8.67V47.77A1.37,1.37,0,0,1,63,46.41H73a1.37,1.37,0,0,1,1.36,1.36v2.49H83a1.93,1.93,0,0,1,1.92,1.93v4.64a42.85,42.85,0,0,1-6.73,3.8A37.35,37.35,0,0,1,71,63V61.18a1.54,1.54,0,0,0-1.55-1.55h-2.9A1.54,1.54,0,0,0,65,61.18V63a37.4,37.4,0,0,1-7-2.36,43.76,43.76,0,0,1-6.91-3.92V52.19A1.95,1.95,0,0,1,53,50.26Zm31.93,9.33V72.2a1.87,1.87,0,0,1-.56,1.35,1.92,1.92,0,0,1-1.36.57H53a1.95,1.95,0,0,1-1.93-1.92V59.47a44.57,44.57,0,0,0,5.87,3.18A39.32,39.32,0,0,0,65,65.3v2a1.57,1.57,0,0,0,.45,1.1,1.54,1.54,0,0,0,1.09.45h2.91A1.54,1.54,0,0,0,71,67.3V65.21l0,.12a39.92,39.92,0,0,0,8.22-2.68,43.93,43.93,0,0,0,5.68-3.06Zm-13-11.32H64.06a.13.13,0,0,0-.12,0,.17.17,0,0,0-.06.12v1.77h8.2V48.44a.17.17,0,0,0-.17-.17ZM82.77,35.61a3,3,0,0,1-.74-.28,3.45,3.45,0,0,1-.75-.55,28.21,28.21,0,1,0,1.49.83Zm27.33,65a9.62,9.62,0,0,0-13.44-.13l-.13.14a9.58,9.58,0,0,0,0,13.56h0a9.59,9.59,0,1,0,13.56-13.56ZM22.27,84.74a9.62,9.62,0,0,0-13.44-.13l-.13.14a9.58,9.58,0,0,0,0,13.56h0a9.58,9.58,0,0,0,13.56,0h0a9.62,9.62,0,0,0,0-13.57Zm.59-69.81A9.59,9.59,0,0,0,9.3,28.5h0a9.62,9.62,0,0,0,13.44.13l.13-.14a9.61,9.61,0,0,0,0-13.56ZM99.2,8.7a9.58,9.58,0,0,0-13.56,0h0a9.61,9.61,0,0,0-.12,13.44l.13.12a9.58,9.58,0,0,0,13.56,0h0a9.61,9.61,0,0,0,0-13.57Z"
                />
              </svg>
            </div>
            <div className="bottom-link">
              <h6>Brand Management</h6>
              <p>
                Crafting compelling brand stories that stand out and build
                customer trust.
              </p>

              <Link href={'/services/bm'} className="butn bord curve   mt-auto mx-auto mt-25">
              Read more
              </Link>
            </div>
          </div>
        </div>
        <div
          className="  flex flex-col items-center text-center my-10 "
          ref={box3}
          data-wow-delay=".3s"
        >
          <div className="item-box md-mb50 cont  text-center">
            <div className="svgContainer">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="80px"
                viewBox="0 0 512 359.49"
              >
                <path
                  fill={navFill}
                  d="M477.666 152.24v201.217c0 3.298-2.735 6.033-6.034 6.033h-52.029c-3.299 0-6.034-2.714-6.034-6.033V203.785c10.62-10.387 23.674-22.952 36.993-35.77l21.017-20.249a50.492 50.492 0 006.087 4.474zM197.013 93.506l40.059-35.046c30.44 29.82 59.953 65.866 90.086 95.636L437.009 43.728 401.63 8.348 512 0l-6.206 112.469-33.938-33.946c-24.364 24.683-81.983 79.078-106.378 103.476-30.815 30.82-45.532 31.376-76.359.548l-52.047-57.926-10.106 8.962a123.575 123.575 0 00-5.137-9.915c-3.87-6.704-8.312-12.927-13.235-18.572l.067-.058c-3.495-4.014-7.392-7.873-11.648-11.532zm-70.715 1.189a87.26 87.26 0 00-33.857 4.363l-.231.086a87.673 87.673 0 00-29.418 16.951 87.66 87.66 0 00-20.883 27.093 87.286 87.286 0 00-8.893 32.943 87.695 87.695 0 001.934 25.21 87.074 87.074 0 007.511 20.685l-41.155 39.4a4.198 4.198 0 00-.156 5.929l23.299 24.369a4.184 4.184 0 005.909.141l39.604-38.23A87.016 87.016 0 0089.4 263.973a87.577 87.577 0 0025.046 5.442 87.3 87.3 0 0033.841-4.358 87.648 87.648 0 0029.666-17.04 87.687 87.687 0 0020.879-27.085c4.978-10.012 8.099-21.141 8.901-32.955.801-11.814-.79-23.263-4.362-33.857l-.086-.231a87.7 87.7 0 00-16.963-29.405 87.384 87.384 0 00-27.066-20.887c-10.011-4.978-21.144-8.101-32.958-8.902zm-14.309 121.492c-4.613-.322-10.488-1.459-15.011-2.671v-14.187c6.004.486 20.789 1.747 26.24.514 4.09-.929 3.637-7.387.943-8.196-3.243-1.009-10.031.202-15.49-1.379-2.786-.808-5.137-2.026-7.053-3.653-1.957-1.67-3.422-3.882-4.384-6.63-.939-2.674-1.412-5.859-1.412-9.552v-4.862c0-10.395 5.732-16.587 16.167-18.331v-7.452h14.866v7.162c4.611.368 10.349 1.546 14.925 2.655v14.21c-6.239-.549-18.072-1.665-23.99-.59a5.747 5.747 0 00-1.404.432c-2.43 1.152-2.333 7.798.644 8.585 1.947.511 5.94.241 8.069.241 2.154 0 4.152.211 5.986.626 1.85.421 3.525 1.058 5.009 1.906 6.226 3.548 8.972 9.806 8.972 16.717v4.867c0 2.888-.259 5.466-.769 7.72-2.033 8.941-8.968 10.87-17.442 11.797v8.037h-14.866v-7.966zm-37.567-86.768c6.879-5.999 14.911-10.665 23.644-13.604 8.425-2.84 17.564-4.102 27.033-3.461 9.468.642 18.357 3.129 26.313 7.076 8.264 4.097 15.587 9.802 21.59 16.678l.213.225a70.156 70.156 0 0113.401 23.438l.076.209c2.781 8.355 4.017 17.42 3.381 26.804-.641 9.459-3.125 18.345-7.067 26.296a70.168 70.168 0 01-16.69 21.602c-6.876 6.003-14.908 10.67-23.641 13.611-8.416 2.835-17.56 4.099-27.03 3.457-9.456-.641-18.335-3.125-26.293-7.073l-.208-.095c-16.478-8.23-29.128-22.797-35.012-40.242l-.076-.208c-2.781-8.357-4.017-17.421-3.381-26.808.642-9.466 3.128-18.352 7.076-26.31a69.887 69.887 0 0116.671-21.595zm89.246 161.438v62.6c0 3.307-2.726 6.033-6.034 6.033h-52.029c-3.308 0-6.034-2.714-6.034-6.033v-56.096c4.159.74 8.466 1.271 12.908 1.573 7.538.508 15.186.237 22.824-.747a116.568 116.568 0 0022.36-5.12c2.02-.68 4.021-1.415 6.005-2.21zm104.665-60.788v123.388c0 3.304-2.732 6.033-6.036 6.033H210.27c-3.304 0-6.036-2.714-6.036-6.033v-89.681a117.464 117.464 0 0021.105-29.763 116.488 116.488 0 008.157-21.452 115.425 115.425 0 002.943-14.613l13.89 15.451a48.33 48.33 0 001.783 1.878c5.543 5.543 10.916 10.472 16.221 14.792zm104.664 9.188v114.2c0 3.304-2.729 6.033-6.033 6.033h-52.03c-3.303 0-6.033-2.714-6.033-6.033V251.179c6.074 1.349 12.366 1.983 18.999 1.902 16.583-.201 30.915-4.82 45.097-13.824z"
                />
              </svg>
            </div>
            <div className="bottom-link">
              <h6>AccountÂ Management</h6>
              <p>
                Optimized PPC campaigns to drive targeted traffic, maximize ROI,
                and boost sales.
              </p>

              <Link href={'/services/aam'} className="butn bord curve   mt-auto mx-auto mt-25">
              Read more
              </Link>
            </div>
          </div>
        </div>
      </div>
    </section>
  );
};

export default SubHeaderFeature;
